---
import { CV } from "@/data/cv";

const { experience } = CV;
---

<section
  class="w-full flex justify-center px-6 md:px-12 lg:px-24 py-24 overflow-hidden bg-brand-bg"
>
  <div class="w-full max-w-7xl flex flex-col gap-16">
    <h2 class="font-display text-4xl md:text-5xl uppercase text-brand-black">
      {experience.title}
    </h2>
    <div class="w-full flex flex-col">
      {
        experience.jobs.map((job, i) => (
          <div class="w-full flex flex-col md:flex-row md:justify-start border-b-4 border-brand-black py-6 gap-6">
            <div class="text-5xl text-brand-red font-black">
              {Math.abs(1) < 10 ? `0${i + 1}` : i + 1}
            </div>
            <div class="flex flex-col">
              <h3 class="text-3xl font-black">{job.role}</h3>
              <h4 class="text-base font-bold text-gray-600">{job.company}</h4>
              {job.summary && <p>{job.summary}</p>}
              {job.responsibilities && (
                <ul class="mt-2 text-sm list-disc font-medium px-3">
                  {job.responsibilities.map(item => (<li>{item}</li>))}
                </ul>
              )}
              {job.projects && job.projects.length > 0 && (
                <div class="flex flex-col gap-4 mt-4">
                  {job.projects.map((project) => (
                    <h5>Proyectos Destacados</h5>
                    <div class="flex flex-col gap-1">
                      <h6 class="font-bold text-brand-black">
                        {project.title}
                      </h6>
                      {project.achievements && (
                        <ul class="list-disc list-inside text-gray-600 pl-2">
                          {project.achievements.map((ach) => (
                            <li>{ach}</li>
                          ))}
                        </ul>
                      )}
                    </div>
                  ))}
                </div>
              )}
            </div>
            <div>
              {job.period}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
